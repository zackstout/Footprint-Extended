<div ng-include="'views/partials/nav.html'"></div>

<div class="whole" ng-init="pc.init()">
  <div layout="row" layout-align="start start" class="navigateback">
    <md-button  href="/#/user">BACK TO DASHBOARD</md-button><span flex></span>

  </div>

  <div layout="row" layout-align="center center">
    <h1 id="projectheader">Currently viewing: {{pc.clickedProject.name}}</h1>
  </div>


  <div layout="row" layout-align="center center">
    <h3>Country: {{pc.clickedProject.country}}</h3>
  </div>
  <div layout="row" layout-align="center center">
    <h3>Type<span ng-show="pc.clickedProject.names.length > 1">s</span>:
      <span ng-repeat="type in pc.clickedProject.names"><span>{{type}}<span ng-if="$index < pc.clickedProject.names.length - 1">,</span> </span></span></h3>
  </div>

  <div layout="row" id="projects">

    <div flex="70">
      <!-- <div flex="60" layout="row" layout-align="center center"> -->
      <table id="footprintsTable">
        <h2>UPLOADED PERIODS</h2>
        <tr>
          <!-- will add footprint in a moment -->
          <th>PERIOD</th>
          <th>EDIT</th>
          <th>DELETE</th>

        </tr>
        <tr  ng-repeat="projectFootprint in pc.projectFootprints" ng-mouseleave="pc.hovering = false" ng-mouseover="pc.hoverFootprint($event)" class="footprint-row" id="footprint_{{projectFootprint.id}}">

          <md-tooltip md-delay=10 ng-show="pc.hovering">
            <!-- Hmm, the first delay is still long.. -->
            <!-- NOTE: We'll have to put its direction to Right when there's not enough room on the bottom: -->

            <div class="">
              hi
            </div>
            <div class="">
              there
            </div>
            <div class="">
              clown
            </div>

            <!-- <table width="300px">
              <thead>
                <th>Travel</th>
                <th>Living</th>
                <th>Shipping</th>
              </thead>
              <tbody>
                <tr>
                  <td>Car: {{pc.car}} <i>km</i></td>
                  <td>Hotel: {{pc.hotel}} <i>room-days</i></td>
                  <td>Air: {{pc.air}} <i>tonne-km</i></td>
                </tr>
                <tr>
                  <td>Train: {{pc.train}} <i>km</i></td>
                  <td>Gas: {{pc.fuel}} <i>m<sup>3</sup></i></td>
                  <td>Train: {{pc.freight_train}} <i>tonne-km</i></td>
                </tr>
                <tr>
                  <td>Plane: {{pc.plane}} <i>km</i></td>
                  <td>Electricity: {{pc.grid}} <i>kWh</i></td>
                  <td>Truck: {{pc.truck}} <i>tonne-km</i></td>
                </tr>
                <tr>
                  <td></td>
                  <td>Propane: {{pc.propane}} <i>kWh</i></td>
                  <td>Sea: {{pc.sea}} <i>tonne-km</i></td>
                  <td></td>
                </tr>
              </tbody>
            </table> -->

          </md-tooltip>


          <td>{{projectFootprint.period | date: "MMM yyyy"}}</td>
          <td><md-button class="md-raised md-primary" ng-click="pc.editModal($event, $index)">Edit</md-button></td>
          <td>
            <md-button class="md-raised md-warn ng-click=" ng-click="pc.deleteThis($event, projectFootprint.id)">Delete</md-button>
          </td>

        </tr>
      </table>
    </div>
    <div flex="30">
      <h2>YOUR PROJECTS</h2>

      <md-card id="recent" class="projectsDiv">
        <!-- <p>View project uploads</p> -->
        <h3 ng-repeat="userProject in pc.userProjects">
        <!-- <h3 ng-repeat="userProject in pc.userProjects | orderBy: 'userProject.id'"> -->

          <md-button ng-click="pc.showAnotherProject($event, $index)" layout-align="left">{{userProject.name}}</md-button>

        </h3>
        <!-- {{pc.projectFootprints}} -->
      </md-card>
    </div>
    <!-- </div> -->

  </div>
</div>
